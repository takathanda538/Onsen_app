<div class="container">
  <%= form_with url: posts_search_path, method: :get do |f| %>
      <%= f.label :温泉名検索 %>
      <%= f.text_field :name %>
      <%= f.submit "検索" %>
  <% end %>
  <%= form_with url: posts_search_path, method: :get do |f| %>
      <%= f.label :都道府県検索 %>
      <%=f.select :ride_area, Post.ride_areas.keys.to_a %>
      <%= f.submit "検索" %>
  <% end %>
  <div class="row justify-content-center">
    <div class="col-lg-9">
      <table class='table'>
        <thead>
          <tr>
            <th>投稿者</th>
            <th>温泉</th>
            <th>タイトル</th>
            <th colspan="3"></th>
          </tr>
        </thead>
        <tbody>
          <% @posts.each do |post| %>
            <tr>
              <td>
                <%= link_to customer_path(post.customer) do%>
                  <%= image_tag post.customer.get_profile_image(50,50) , class: "rounded-circle", size: "50x50" %><br>
                  <%= post.customer.name %>
                <% end %>
              </td>
              <td>
                <%= link_to post_path(post) do%>
                  <%= post.name %>
                <% end %>
              </td>
              <td><%= post.title %></td>
              <td><%= post.post_comments.count %>コメント</td>
              <td>
                <%= render partial: "public/likes/like", locals: { post: post} %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <ul class="pagination justify-content-center">
      <%= paginate @posts, theme: 'bootstrap-5' %>
      </ul>

    </div>
  </div>
</div>
